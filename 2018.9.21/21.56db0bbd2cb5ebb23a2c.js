webpackJsonp([21],{1670:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(69),s=n(r),u=a(331),l=n(u),o=a(83),c=n(o),d=(a(21),a(59)),p=n(d),i=a(114),f=a(330),y=a(90);t.default=(0,c.default)(i.pageModel,{namespace:"buytokenbyagent",state:{tabflag:"list",pageSize:200,page:1,buyloading:!1,loading:!1},subscriptions:{},effects:{query:s.default.mark(function e(t,a){var n,r,u,o,c,d=(t.payload,a.call,a.put),i=a.select;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i(function(e){return e.mainapp});case 3:if(n=e.sent,r=n.eosClient,u=n.eosAccount,r&&u){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,d({type:"updatedata",payload:{loading:!0}});case 10:return e.next=12,r.getTableRows(!0,y.contractname,y.contractname,"prebuylist");case 12:if(!(o=e.sent)){e.next=18;break}return c=[],o.rows.length>0&&(c=p.default.filter(o.rows,{agenter:u})),e.next=18,d({type:"updatedata",payload:{loading:!1,myitems:c,totalItems:c.length}});case 18:e.next=25;break;case 20:return e.prev=20,e.t0=e.catch(0),e.next=24,d({type:"updatedata",payload:{loading:!1}});case 24:(0,f.msgError)("\u83b7\u53d6\u6570\u636e\u5931\u8d25,\u9519\u8bef\u4ee3\u7801:"+(0,l.default)(e.t0));case 25:case"end":return e.stop()}},e,this,[[0,20]])}),setdata:s.default.mark(function e(t,a){var n=(t.payload,a.call,a.put);a.select;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({type:"updatedata",payload:{myitems:[],totalItems:"",buyloading:!1,loading:!1,tabflag:"list"}});case 2:case"end":return e.stop()}},e,this)})}}),e.exports=t.default}});